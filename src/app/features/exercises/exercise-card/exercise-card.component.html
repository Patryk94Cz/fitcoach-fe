<!-- src/app/features/exercises/exercise-card/exercise-card.component.html -->
<mat-card class="exercise-card" [style.background-color]="getDifficultyColor(exercise.difficultyLevel)">
  <div class="exercise-image-container">
    <img [src]="getImageUrl()" [alt]="exercise.name" class="exercise-image">
    <div class="difficulty-tag" [style.color]="getDifficultyTextColor(exercise.difficultyLevel)">
      {{ getDifficultyName(exercise.difficultyLevel) }}
    </div>
  </div>

  <mat-card-content>
    <h3 class="exercise-title">{{ exercise.name }}</h3>

    <div class="muscle-group">
      <mat-chip>{{ getMuscleGroupName(exercise.primaryMuscleGroup) }}</mat-chip>
    </div>

    <div class="rating-container" *ngIf="exercise.averageRating !== undefined">
      <div class="stars">
        <ng-container *ngFor="let star of getStarRating(); let i = index">
          <mat-icon *ngIf="star === 1">star</mat-icon>
          <mat-icon *ngIf="star === 0.5">star_half</mat-icon>
          <mat-icon *ngIf="star === 0">star_border</mat-icon>
        </ng-container>
      </div>
      <span class="rating-value">{{ exercise.averageRating | number:'1.1-1' }}</span>
      <span class="ratings-count">({{ exercise.ratingsCount || 0 }})</span>
    </div>

    <div class="no-rating" *ngIf="exercise.averageRating === undefined">
      <mat-icon>star_border</mat-icon>
      <span>Brak ocen</span>
    </div>
  </mat-card-content>

  <mat-card-actions>
    <button mat-button color="primary" [routerLink]="['/exercises', exercise.id]">
      <mat-icon>visibility</mat-icon>
      Szczegóły
    </button>
  </mat-card-actions>
</mat-card>
